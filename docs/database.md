# Design for the Database

## Data required to be stored:
> Student related
* Student Email ID
* Student Name
* Student Login password
* Courses student is enrolled in
* Student attendance for each course (in numeric form)
* Section
* Student roll number

> Teacher related
* Teacher name
* Teacher Email ID
* Courses handled by teacher
* Sections handled by teacher (for each section).
* Teacher Password
* Attendance percentage (average) of all courses taught by teacher

* Teacher ID
> Admin related
* Admin Email ID
* Admin Password

> Section related
* Students Per section
* Student Email ID's
* Teacher handling course for this section.
* Courses student of this section have enrolled in.

> Course related 
* Course Code
* Course title
* Students enrolled for the course
* Teacher assigned to the course (per section)
* Attendance per course, per day (with time slot of class)
* Average & Standard deviation of student attendance percentage
* Location of class (i.e Class Room number)
* Class section

> Attendance / Course specific
* Attendance code generated by students.


# Database Design Abstract (Initial)

> Table :: Student Details

| Student EmailID (Primary Key) | Student ID | Student First Name | Student Last Name | Student Password | Section | Courses Enrolled | Attendance Per Course |  
|-------------------------------|------------|--------------------|-------------------|------------------|---------|------------------|-----------------------|
| cb.en.u4cse20xxx@academic.edu | CB.EN.XX22 | John               | Apple             | TestPassword@12  | CSE-F   | 19CSE314         | 34/36                 |
| cb.en.u4cse20xxx@academic.edu | CB.EN.XX22 | John               | Apple             | TestPassword@12  | CSE-F   | 19CSE313         | 55/60                 |
| cb.en.u4cse20xxx@academic.edu | CB.EN.XX22 | John               | Apple             | TestPassword@12  | CSE-F   | 19CSE313         | 3/4                   |
| cb.en.u4cse20xxx@academic.edu | CB.EN.XX22 | John               | Apple             | TestPassword@12  | CSE-F   | 19SSK009         | 9/10                  |
| cb.en.u4cse20xxx@academic.edu | CB.EN.XX22 | John               | Apple             | TestPassword@12  | CSE-F   | 19CSE312         | 31/40                 |

> Table :: Teacher Details
| Teacher Email ID (Primary Key)| Teacher ID |Teacher First Name | Teacher Last Name | Courses Handled | Section Handled  | Average course attendance | Password |
|-------------------------------|-------------|-------------------|-------------------|-----------------|-----------------|---------------------------|----------|
| teacher334@academic.edu       | TS3331      |TName              | LName             | 19CSE314        | CSE-F           | 33.0%                     |   abc    |
| teacher336@academic.edu       | TX 3331     |TNameF             | LNameF            | 19CSE312        | CSE-A           | 100.0%                    |   def    |

Table :: Admin Details
| Admin Email ID (Primary Key) | Admin Password |
|------------------------------|----------------|
| Admin ASP1                   | s;lfdjalX3234x |
| Admin ASP2                   | sffasdfwerfsdf |
| Admin ASP3                   | 333fsdf@@vfff  |

Table :: Course / Attendance related
| Course code | Course Title | Students enrolled for course | Teacher assigned for course | Attendance percentage | Section | Time Slot | Date      |
|-------------|--------------|------------------------------|-----------------------------|-----------------------|---------|-----------|-----------|
| 19SSK334    | Soft Skills  | CB.EN.UI3332                 | TX3311                      | 100%                  | CSE-F   | 4         | dd/mm/yyyy|  
| 19CSEXX2    | OOPS         | CB.EN.UI33EE                 | TX3U33                      | 44.0%                 | CSE-D   | 6         | dd/mm/yyyy|  

Additional column : Teacher generated attendance code.


# Normalization (1NF)
A table is in 1NF form if:

* There are only single valued attributes (i.e atomic values). No composite values allowed (each cell has only one value).

* There is a unique name for every attribute and column.

* The order in which data is stored does not matter (order of the columns in each table).

* The attribute domain should not change. This means all values in a column must have the same data type.

**It can be seen that all tables are already in 1NF. So, we can move ahead to 2NF.** 

# Normalization (2NF)
A table is in 2NF if :

* It is already in 1NF.

* There is no Partial dependency (i.e funcational dependency). Dependency is when all columns are dependent only one an single column, the primary key.
IN a partial dependency, there are 2 or more primary keys in the table (candidate key). Any attribute depending only on part of primary key leads to partial dependency.

> Table :: Student details.
The composite primary key is Student Email, Student ID and courses.
The first name, last name, password, section have dependency with only part of the primary key (i.e the Student ID and Student Email ID) and not the course.
Due to this, the table is not in 2NF (due to existance of partial dependency).

To make it in 2NF, we can do the following changes:

Table :: Student Email And ID {
    Student ID
    Email ID,
};

Table :: Student Personal Details {
    Student ID,
    First Name,
    Last Name, 
    Password,
    Section,
};

Table :: Student And Select Courses {
    Student ID,
    Course ID,
    Attendance,
}

> Table :: Teacher Details.
Similar to the last table, the composite primary key is Teacher Email ID, Teacher ID, and Courses handled.
To make the table into 2NF, we split the Teacher Details table as follows:

Table :: Teacher Email And ID {
    Teacher ID,
    Teacher Email ID
};

Table :: Teacher Personal Details {
    Teacher ID,
    Teacher First Name,
    Teacher Last Name,
    Password,
}

Table :: Teacher Course Details {
    Teacher ID,
    Courses Handled,
    Class Sections handled,
    Average attendance
}

> Table :: Admin Details
This table is already in 2NF, hence no changes are required.

> Table :: Course / Attendance related.
The composite primary key here is (Course code, Section, Students Enrolled).
Course Title depends on the Course Code and not the section. Similary, Date and Time Slot do not depend on the students enrolled (but depend on Course Code and Section). Due to these partial dependencies, the Table is NOT in 2NF form.
To convert the table into required form, we split the table as follows:

Table :: Course Data {
    Course Code,
    Title
}

Table :: Section Wise Couse Details {
    Course Code,
    Section, 
    Teacher Assigned,
    Time Slot, 
    Date
}

The composite primary key in this table would be Course Code, Section, and Teacher Assigned, Time Slot and Date.

Table :: Course and Student Data { // This table already exist as  Student And Select Courses table.

    Course Code,
    Students Enrolled in Course,
    Attendance (per student)
}

# Normalization (3NF)
A table is said to be in 3NF if:

* Table is already in 2NF.

* Has no transitive partial dependency. That is, if A -> B and B -> C, then there exist a transitive dependency between C and A.

Student Email and ID has no transitive dependencies, hence already in the 3NF form.
Table :: Student Email and ID {
    **Student ID**,
    Email ID
}

Student Personal Details has no transitive dependencies, hence already in 3NF form.
Table :: Student Personal Details {
    **Student ID**,
    First Name,
    Last Name, 
    Password,
    Section,
};

Student and Select Course table has no transitive dependencies, hence already in 3NF.
Table :: Student And Select Courses {
    **Student ID**,
    **Course ID**,
    Attendance,
}



Teacher Email and ID table has no transitive dependencies, hence already in 3NF.
Table :: Teacher Email And ID {
    **Teacher ID**,
    Teacher Email ID
};

Teacher Personal Details has no transitive dependency, so already in 3NF.
Table :: Teacher Personal Details {
    **Teacher ID**,
    Teacher First Name,
    Teacher Last Name,
    Password,
}

Teacher Course details has no transitive dependency so already in 3NF.
Table :: Teacher Course Details {
    **Teacher ID**,
    **Courses Handled**,
    Class Sections handled,
    Average attendance
}

Admin details already in 3NF.
Table :: Admin Details {
    **Admin ID**
    Admin password
}

Course Data is already in 3NF, hence no changes.
Table :: Course Data {
    **Course Code**,
    Title
}

Section wise course details and Course and Student data is already in 3NF.
Table :: Section Wise Couse Details {
    **Course Code**,
    **Section**, 
    **Teacher Assigned**,
    **Time Slot**, 
    **Date**
}

